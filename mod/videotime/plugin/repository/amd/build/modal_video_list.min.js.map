{"version":3,"sources":["../src/modal_video_list.js"],"names":["define","$","Notification","CustomEvents","Modal","ModalRegistry","Templates","Ajax","ModalFactory","ModalEvents","str","select2","Pagination","registered","ModalVideoList","root","call","contextId","videos","videoPageIndex","descriptionModal","embedsModal","previewModal","confirmModal","query","filterData","perPage","pagination","init","sort","sortdirections","readOnly","TYPE","prototype","Object","create","constructor","getContainer","on","refreshTable","bind","getConfirmModal","getPreviewModal","setReadOnly","setContextId","args","getLimitFrom","sortdirection","promises","methodname","done","response","data","forEach","item","uri","getCurrentPage","context","assign","readonly","render","then","html","setTotalItems","total","getRoot","find","registerEventListeners","shown","getModal","each","index","element","dropdownParent","events","activate","e","showConfirmModal","target","showDescriptionModal","showEmbedsModal","showPreviewModal","setQuery","val","setCurrentPage","applyFilters","trigger","direction","hasOwnProperty","serializeArray","useVideo","videoUri","overrideSettings","video","link","attr","name","addClass","description","duration","empty","tags","tag","append","hide","getDescriptionModal","modal","setTitle","setBody","show","callback","get_string","string","getEmbedsModal","getPreviousAndNextVideoInSearch","next_video","nextVideo","previous_video","previousVideo","large","footer","page","limitfrom","Promise","resolve","last","useNext","pageIndex","Math","floor","get_strings","key","component","strings","override","prop","register","setFilterValue","filterName","value"],"mappings":"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","sourcesContent":["define(['jquery', 'core/notification', 'core/custom_interaction_events', 'core/modal', 'core/modal_registry', 'core/templates',\n        'core/ajax', 'core/modal_factory', 'core/modal_events', 'core/str', 'videotimeplugin_repository/select2',\n        'videotimeplugin_repository/pagination'], function($, Notification, CustomEvents, Modal, ModalRegistry, Templates, Ajax,\n                                                           ModalFactory, ModalEvents, str, select2, Pagination) {\n\n        var registered = false;\n\n        /**\n         * Constructor for the Modal.\n         *\n         * @param {object} root The root jQuery element for the modal\n         */\n        var ModalVideoList = function(root) {\n            Modal.call(this, root);\n            this.contextId = null;\n            this.videos = [];\n            this.videoPageIndex = [];\n            this.descriptionModal = null;\n            this.embedsModal = null;\n            this.previewModal = null;\n            this.confirmModal = null;\n            this.query = null;\n            this.filterData = {};\n            this.perPage = 10;\n            this.pagination = new Pagination(this.perPage, 0, root);\n            this.pagination.init();\n            this.sort = null;\n            this.sortdirections = {};\n            this.readOnly = null;\n        };\n\n        ModalVideoList.TYPE = 'video-list';\n        ModalVideoList.prototype = Object.create(Modal.prototype);\n        ModalVideoList.prototype.constructor = ModalVideoList;\n\n        /**\n         * Any prerequisites to modal functionality.\n         */\n        ModalVideoList.prototype.init = function() {\n            this.pagination.getContainer().on('pagination.changePage', function() {\n                this.refreshTable();\n            }.bind(this));\n\n            // Build modals that use Promises for content. This will force it to preload.\n            // There was an issue where footers would only display when the modal was opened as second time.\n            this.getConfirmModal(function() {});\n            this.getPreviewModal(function() {});\n        };\n\n        /**\n         * Set if modal list is read only (cannot select videos for embedding).\n         *\n         * @param readOnly\n         */\n        ModalVideoList.prototype.setReadOnly = function(readOnly) {\n            this.readOnly = readOnly;\n        };\n\n        ModalVideoList.prototype.setContextId = function(contextId) {\n            this.contextId = contextId;\n        };\n\n        ModalVideoList.prototype.refreshTable = function() {\n\n            let args = {\n                'contextid': this.contextId,\n                'query': this.query,\n                'filter_data': this.filterData,\n                'limitfrom': this.pagination.getLimitFrom(),\n                'limitnum': this.perPage\n            };\n\n            if (this.sort) {\n                args.sort = this.sort;\n                args.sortdirection = this.sortdirections[this.sort];\n            }\n\n            var promises = Ajax.call([\n                {\n                    methodname: 'videotimeplugin_repository_search_videos', args: args\n                }\n            ]);\n\n            promises[0].done(function(response) {\n                response.data.forEach(function(item, index) {\n                    this.videos[item.uri] = item;\n                    this.videoPageIndex[item.uri] = this.pagination.getCurrentPage();\n                }.bind(this));\n                let context = Object.assign(response, {readonly: this.readOnly});\n                Templates.render('videotimeplugin_repository/video_table', context)\n                    .then(function(html, js) {\n                        this.pagination.setTotalItems(response.total);\n                        this.pagination.render('#pagination-container');\n\n                        this.getRoot().find('.video-list-table').html(html);\n                    }.bind(this));\n            }.bind(this));\n        };\n\n        /**\n         * Set up all of the event handling for the modal.\n         *\n         * @method registerEventListeners\n         */\n        ModalVideoList.prototype.registerEventListeners = function() {\n            // Apply parent event listeners.\n            Modal.prototype.registerEventListeners.call(this);\n\n            this.getRoot().on(ModalEvents.shown, function() {\n                this.getModal().find('.select2').each(function(index, element) {\n                    $(element).select2({\n                        dropdownParent: this.getRoot()\n                    });\n                }.bind(this));\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=use-video]', function(e, data) {\n                this.showConfirmModal($(e.target).data('uri'));\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=show-description]', function(e, data) {\n                this.showDescriptionModal($(e.target).data('uri'));\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=show-embeds]', function(e, data) {\n                this.showEmbedsModal($(e.target).data('uri'));\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=preview]', function(e, data) {\n                this.showPreviewModal($(e.target).data('uri'));\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=search]', function(e, data) {\n                this.setQuery($($(e.target).data('target')).val());\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=clear-search]', function(e, data) {\n                this.query = '';\n                $($(e.target).data('target')).val('');\n                this.pagination.setCurrentPage(0);\n                this.refreshTable();\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=apply-filters]', function(e, data) {\n                this.applyFilters();\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=clear-filters]', function(e, data) {\n                this.filterData = [];\n                $($(e.target).data('target')).val('');\n                this.getModal().find('.select2').val(null).trigger('change');\n                this.pagination.setCurrentPage(0);\n                this.refreshTable();\n            }.bind(this));\n\n            this.getModal().on(CustomEvents.events.activate, '[data-action=sort]', function(e, data) {\n                this.sort = $(e.target).data('field');\n                let direction = 'ASC';\n                if (this.sortdirections.hasOwnProperty(this.sort)) {\n                    if (this.sortdirections[this.sort] == 'ASC') {\n                        direction = 'DESC';\n                    } else {\n                        direction = 'ASC';\n                    }\n                }\n                this.sortdirections[this.sort] = direction;\n                this.refreshTable();\n            }.bind(this));\n        };\n\n        /**\n         * Apply filter form values.\n         */\n        ModalVideoList.prototype.applyFilters = function() {\n            this.filterData = this.getRoot().find('form').serializeArray();\n            this.pagination.setCurrentPage(0);\n            this.refreshTable();\n        };\n\n        ModalVideoList.prototype.useVideo = function(videoUri, overrideSettings) {\n            var video = this.videos[videoUri];\n\n            $('#id_vimeo_url').val(video.link);\n            $('#id_vimeo_url').attr('readonly', 'readonly');\n            $('#id_choose_video').html(video.name);\n            $('#id_choose_video').val(video.name);\n            $('#id_choose_video').addClass('btn-success');\n            if (overrideSettings) {\n                $('#id_name').val(video.name);\n                $('#id_introeditor').val(video.description);\n                $('#id_introeditoreditable').html(video.description);\n                $('#id_completion_on_view_time_second').val(video.duration);\n\n                // Add tags\n                // First remove any selections.\n                $(\"#fitem_id_tags .form-autocomplete-selection\").empty();\n                $(\"#fitem_id_tags #id_tags\").empty();\n                $.each(video.tags, function(index, tag) {\n                    $(\"#fitem_id_tags #id_tags\").append('<option data-iscustom=\"true\" value=\"' + tag.name +\n                        '\" selected>' + tag.name + '</option>');\n                    $(\"#fitem_id_tags .form-autocomplete-selection\").append('<span role=\"listitem\" data-value=\"' +\n                        tag.name + '\" aria-selected=\"true\" class=\"label label-info\"><span aria-hidden=\"true\">Ã— </span>' +\n                        tag.name + '</span>');\n                });\n            }\n            this.hide();\n        };\n\n        /**\n         * Display modal with full video description.\n         *\n         * @param {string} videoUri\n         */\n        ModalVideoList.prototype.showDescriptionModal = function(videoUri) {\n            if (!this.videos.hasOwnProperty(videoUri)) {\n                return;\n            }\n\n            var video = this.videos[videoUri];\n\n            this.getDescriptionModal(function(modal) {\n                modal.setTitle(video.name);\n                modal.setBody(video.description);\n                modal.show();\n            }.bind(this));\n        };\n\n        /**\n         * Utilize callback to receive the same instance of the description modal.\n         *\n         * @param {function} callback\n         */\n        ModalVideoList.prototype.getDescriptionModal = function(callback) {\n            if (!this.descriptionModal) {\n                ModalFactory.create({}).done(function(modal) {\n                    this.descriptionModal = modal;\n                    callback(this.descriptionModal);\n                }.bind(this));\n            } else {\n                callback(this.descriptionModal);\n            }\n        };\n\n        /**\n         * Display modal with full video description.\n         *\n         * @param {string} videoUri\n         */\n        ModalVideoList.prototype.showEmbedsModal = function(videoUri) {\n            if (!this.videos.hasOwnProperty(videoUri)) {\n                return;\n            }\n\n            var video = this.videos[videoUri];\n\n            str.get_string('embeds', 'videotime').done(function(string) {\n                this.getEmbedsModal(function(modal) {\n                    modal.setTitle(video.name + ' ' + string);\n                    modal.setBody(Templates.render('videotimeplugin_repository/embeds', {video: video}));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        };\n\n        /**\n         * Utilize callback to receive the same instance of the embeds modal.\n         *\n         * @param {function} callback\n         */\n        ModalVideoList.prototype.getEmbedsModal = function(callback) {\n            if (!this.embedsModal) {\n                ModalFactory.create({}).done(function(modal) {\n                    this.embedsModal = modal;\n                    callback(this.embedsModal);\n                }.bind(this));\n            } else {\n                callback(this.embedsModal);\n            }\n        };\n\n        /**\n         * Display modal with full video description.\n         *\n         * @param {string} videoUri\n         */\n        ModalVideoList.prototype.showPreviewModal = function(videoUri) {\n            if (!this.videos.hasOwnProperty(videoUri)) {\n                return;\n            }\n\n            var video = this.videos[videoUri];\n\n            this.getPreviousAndNextVideoInSearch(videoUri).then(function(data) {\n                str.get_string('preview', 'moodle').done(function(string) {\n                    this.getPreviewModal(function(modal) {\n                        modal.setTitle(video.name + ' ' + string);\n                        modal.setBody(Templates.render('videotimeplugin_repository/preview_modal_body', {\n                            video: video,\n                            next_video: data.nextVideo,\n                            previous_video: data.previousVideo\n                        }));\n                        modal.show();\n                    }.bind(this));\n                }.bind(this));\n            }.bind(this));\n        };\n\n        /**\n         * Utilize callback to receive the same instance of the preview modal.\n         *\n         * @param {function} callback\n         */\n        ModalVideoList.prototype.getPreviewModal = function(callback) {\n            if (!this.previewModal) {\n                ModalFactory.create({\n                    large: true,\n                    footer: Templates.render('videotimeplugin_repository/preview_modal_footer', {readonly: this.readOnly})\n                }).done(function(modal) {\n                    this.previewModal = modal;\n                    modal.getModal().on(CustomEvents.events.activate, '[data-action=use-video]', function(e, data) {\n                        modal.hide();\n                        this.showConfirmModal(modal.getModal().find('#vimeo-embed').data('uri'));\n                    }.bind(this));\n                    modal.getRoot().on(CustomEvents.events.activate, '[data-action=preview]', function(e, data) {\n                        this.showPreviewModal($(e.target).data('uri'));\n                    }.bind(this));\n                    callback(this.previewModal);\n                }.bind(this));\n            } else {\n                callback(this.previewModal);\n            }\n        };\n\n        /**\n         * Get previous video based on search criteria.\n         *\n         * @param {string} videoUri\n         * @returns {Promise}\n         */\n        ModalVideoList.prototype.getPreviousAndNextVideoInSearch = function(videoUri) {\n            let page = this.videoPageIndex[videoUri];\n            let limitfrom = 0;\n            if (page > 0) {\n                limitfrom = page * this.perPage - 1; // Negative 1 to cover videos on previous page.\n            }\n\n            let args = {\n                'contextid': this.contextId,\n                'query': this.query,\n                'filter_data': this.filterData,\n                'limitfrom': limitfrom,\n                'limitnum': this.perPage + 2 // Plus 2 to cover videos on next page.\n            };\n\n            if (this.sort) {\n                args.sort = this.sort;\n                args.sortdirection = this.sortdirections[this.sort];\n            }\n\n            return new Promise((resolve, reject) => {\n                Ajax.call([{methodname: 'videotimeplugin_repository_search_videos', args: args}])[0].done(function (response) {\n                    let previousVideo = null;\n                    let nextVideo = null;\n\n                    let last = null;\n                    let useNext = false;\n\n                    response.data.forEach(function (item, index) {\n                        if (useNext) {\n                            nextVideo = item;\n                            useNext = false;\n                        }\n                        if (item.uri === videoUri) {\n                            previousVideo = last;\n                            useNext = true;\n                        }\n\n                        this.videos[item.uri] = item;\n                        // Calculate page of video. It may not be set yet.\n                        let pageIndex = Math.floor((limitfrom + index) / this.perPage);\n                        this.videoPageIndex[item.uri] = pageIndex;\n\n                        last = item;\n                    }.bind(this));\n\n                    resolve({previousVideo: previousVideo, nextVideo: nextVideo});\n                }.bind(this));\n            });\n        };\n\n        /**\n         * Display confirmation modal.\n         *\n         * @param {string} videoUri\n         */\n        ModalVideoList.prototype.showConfirmModal = function(videoUri) {\n            if (!this.videos.hasOwnProperty(videoUri)) {\n                return;\n            }\n\n            var video = this.videos[videoUri];\n\n            str.get_strings([\n                {key: 'confirmation', component: 'videotime'},\n                {key: 'choose_video_confirm', component: 'videotime'}\n            ]).done(function(strings) {\n                this.getConfirmModal(function(modal) {\n                    modal.setTitle(strings[0]);\n                    modal.setBody('<p>' + strings[1] + ' \"' + video.name + '\"?</p><input type=\"hidden\" name=\"uri\" value=\"' + video.uri + '\">');\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        };\n\n        /**\n         * Utilize callback to receive the same instance of the confirm modal.\n         *\n         * @param {function} callback\n         */\n        ModalVideoList.prototype.getConfirmModal = function(callback) {\n            if (!this.confirmModal) {\n                ModalFactory.create({\n                    footer: Templates.render('videotimeplugin_repository/confirm_modal_footer', {readonly: this.readOnly})\n                }).done(function(modal) {\n                    this.confirmModal = modal;\n                    modal.getModal().on(CustomEvents.events.activate, '[data-action=use-video]', function(e, data) {\n                        modal.hide();\n                        var uri = modal.getModal().find('[name=uri]').val();\n                        var override = modal.getModal().find('[name=override]').prop('checked');\n                        this.useVideo(uri, override);\n                    }.bind(this));\n                    callback(this.confirmModal);\n                }.bind(this));\n            } else {\n                callback(this.confirmModal);\n            }\n        };\n\n        // Automatically register with the modal registry the first time this module is imported so that you can create modals\n        // of this type using the modal factory.\n        if (!registered) {\n            ModalRegistry.register(ModalVideoList.TYPE, ModalVideoList, 'videotimeplugin_repository/modal_video_list');\n            registered = true;\n        }\n\n        /**\n         * Set value on select filter.\n         *\n         * @param {string} filterName\n         * @param {string} value\n         */\n        ModalVideoList.prototype.setFilterValue = function(filterName, value) {\n            this.getRoot().find(\"[name=\" + filterName + \"]\").val(value).trigger(\"change\");\n        };\n\n        /**\n         * Set search query value and input value.\n         *\n         * @param {string} query\n         */\n        ModalVideoList.prototype.setQuery = function(query) {\n            this.getRoot().find(\"#search-input\").val(query);\n            this.query = query;\n            this.pagination.setCurrentPage(0);\n            this.refreshTable();\n        };\n\n        return ModalVideoList;\n    });\n"],"file":"modal_video_list.min.js"}